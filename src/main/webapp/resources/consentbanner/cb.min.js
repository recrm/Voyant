(()=>{function L(e){document.readyState!="loading"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){document.readyState!="loading"&&e()})}function y(e,t){if(e!==null)for(var o of Object.keys(t||{}))e.style[o]=t[o]}function A(e){return(e||"").replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2">$1</a>').replace(/\*\*\s?([^\n]+)\*\*/g,"<b>$1</b>").replace(/\_\_\s?([^\n]+)\_\_/g,"<b>$1</b>").replace(/\*\s?([^\n]+)\*/g,"<i>$1</i>").replace(/\_\s?([^\n]+)\_/g,"<i>$1</i>")}function b(e,t,o){if(!(t==null||t==="")){var n=document.createElement("a");n.setAttribute("href","#"+e),n.classList.add("consent-banner-button"),n.textContent=t,o.appendChild(n)}}function v(e,t,o){if(e===null)return null;e.addEventListener&&e.addEventListener(t,o),e.forEach&&e.forEach(n=>n.addEventListener(t,o))}function p(e){document.body.dispatchEvent(new CustomEvent("consent-banner."+e))}function q(e){return e!==null}function g(){return console.warn("ConsentBannerJS: loadConsentState function is not provided"),null}function f(e){return console.warn("ConsentBannerJS: saveConsentState function is not provided"),null}function M(e){var t=document.createElement("div");return t.setAttribute("id","consent-banner-main"),t.style.display="none",t}function k(e){var t=document.createElement("div");return t.setAttribute("id","consent-banner-wall"),t}function D(e){var t=document.createElement("div");t.style.display="none",t.setAttribute("id","consent-banner-modal"),t.innerHTML='<div class="consent-banner-modal-wrapper"><div><h2></h2><p></p></div><div class="consent-banner-modal-buttons"></div></div>',t.querySelector("h2").textContent=e.modal.title,t.querySelector("p").innerHTML=A(e.modal.description);var o=t.querySelector(".consent-banner-modal-buttons");return b("settings",e.modal.buttons.settings,o),b("close",e.modal.buttons.close,o),b("reject",e.modal.buttons.reject,o),b("accept",e.modal.buttons.accept,o),t}function _(e,t){var o=q(t),n=document.createElement("div");n.setAttribute("id","consent-banner-settings"),n.style.display="none",n.innerHTML='<div><form><h2></h2><div><p></p><ul></ul></div><div class="consent-banner-settings-buttons"></div></form></div>',n.querySelector("h2").textContent=e.settings.title,n.querySelector("p").innerHTML=A(e.settings.description);var i=n.querySelector(".consent-banner-settings-buttons");b("reject",e.settings.buttons.reject,i),b("close",e.settings.buttons.close,i),b("save",e.settings.buttons.save,i),b("accept",e.settings.buttons.accept,i);var r=e.consent_types;for(var a of Object.keys(r||{})){var s=document.createElement("li"),c=document.createElement("label"),d=document.createElement("p"),u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",r[a].name),u.setAttribute("value","denied");var l=document.createElement("input");l.setAttribute("type","checkbox"),l.setAttribute("name",r[a].name),l.setAttribute("value","granted"),l.setAttribute("id",r[a].name),(o&&t[r[a].name]==="granted"||!o&&r[a].default==="granted")&&l.setAttribute("checked","checked"),(o&&t[r[a].name]==="denied"||!o&&r[a].default==="denied")&&l.removeAttribute("checked"),r[a].default==="required"&&(l.setAttribute("checked","checked"),l.setAttribute("disabled","disabled"),u.setAttribute("value","granted")),c.textContent=r[a].title,c.setAttribute("for",r[a].name),d.innerHTML=A(r[a].description),s.appendChild(u),s.appendChild(l),s.appendChild(c),s.appendChild(d),n.querySelector("ul").appendChild(s)}return n}function h(e,t,o){var n=q(o),i=t.consent_types;for(var r of Object.keys(i||{})){var a=e.querySelector('[type="checkbox"][name="'+i[r].name+'"]');(n&&o[i[r].name]==="granted"||!n&&i[r].default==="granted")&&a.setAttribute("checked","checked"),(n&&o[i[r].name]==="denied"||!n&&i[r].default==="denied")&&a.removeAttribute("checked"),i[r].default==="required"&&(a.setAttribute("checked","checked"),a.setAttribute("disabled","disabled"))}}function m(e){e.style.display="none",j(e)}function C(e){var t=e.querySelector("#consent-banner-wall");t.style.background="rgba(0, 0, 0, .7)",t.style.position="fixed",t.style.top="0",t.style.right="0",t.style.left="0",t.style.bottom="0"}function j(e){var t=e.querySelector("#consent-banner-wall");t.style.position="static",t.style.background="none"}function w(e){e.style.display="block",e.querySelector("#consent-banner-modal").style.display="block"}function E(e){e.style.display="block",e.querySelector("#consent-banner-modal").style.display="none"}function S(e){e.style.display="block",e.querySelector("#consent-banner-settings").style.display="block",C(e)}function O(e){e.style.display="block",e.querySelector("#consent-banner-settings").style.display="none",j(e)}function T(e){var t=document.querySelector("body"),o=g(),n=M(e),i=k(e),r=D(e),a=_(e,o);n.appendChild(i),i.appendChild(r),i.appendChild(a),v(a.querySelector('[href="#accept"]'),"click",function(s){s.preventDefault();var c=e.consent_types,d={};for(var u of Object.keys(c||{})){var l=c[u].name;d[l]="granted"}h(a,e,d),f(d),m(n),p("hidden")}),v(r.querySelector('[href="#accept"]'),"click",function(s){s.preventDefault();var c=e.consent_types,d={};for(var u of Object.keys(c||{})){var l=c[u].name;d[l]="granted"}h(a,e,d),f(d),m(n),p("hidden")}),v(a.querySelector('[href="#close"]'),"click",function(s){s.preventDefault(),O(n),q(o)||w(n)}),v(r.querySelector('[href="#settings"]'),"click",function(s){s.preventDefault(),E(n),S(n),p("shown")}),v(r.querySelector('[href="#reject"]'),"click",function(s){s.preventDefault();var c=e.consent_types,d={};for(var u of Object.keys(c||{})){var l=c[u].name;d[l]="denied"}f(d),h(a,e,d),m(n),p("hidden")}),v(a.querySelector('[href="#reject"]'),"click",function(s){s.preventDefault();var c=e.consent_types,d={};for(var u of Object.keys(c||{})){var l=c[u].name;d[l]="denied"}f(d),h(a,e,d),m(n),p("hidden")}),v(a.querySelector('[href="#save"]'),"click",function(s){s.preventDefault(),a.querySelector("form").requestSubmit()}),v(a.querySelector("form"),"submit",function(s){s.preventDefault();let c=new FormData(s.target);consentState=Object.fromEntries(c),f(consentState),h(a,e,consentState),m(n),p("hidden")}),v(t.querySelector('[href$="#consent-banner-settings"]'),"click",function(s){s.preventDefault(),S(n),E(n),p("shown")}),v(t,"consent-banner.show-settings",function(s){s.preventDefault(),S(n),E(n),p("shown")}),t.appendChild(n),q(o)!==!0&&(e.display.wall===!0&&C(n),e.display.mode==="bar"&&(y(r,{position:"fixed",bottom:0,left:0,right:0,"border-bottom":"none","border-left":"none","border-right":"none",padding:"5px"}),y(r.querySelector("h2"),{display:"none"}),y(r.querySelector(".consent-banner-modal-buttons"),{"margin-left":"20px"}),w(n),p("shown")),e.display.mode==="modal"&&(y(r,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),y(r.querySelector(".consent-banner-modal-wrapper"),{display:"block"}),w(n),p("shown")),e.display.mode==="settings"&&(S(n),p("shown")))}window.cookiesBannerJs=function(e,t,o){g=e,f=t,L(T.bind(null,o))};window.dispatchEvent(new CustomEvent("consent-banner.ready"));})();
